<form action="#" method="post" class="form_to_add_stuffs">
    <div class="form_card_header">
        <label id="close" onclick="remove_form('form_to_add_card')"><i class="fas fa-close"></i></label>
        <h2 id="Title">Add List Card</h2>
    </div>
    <div class="form-group">
        <label for="L2">Type of the List</label>
        <select name="typeOfList" id="L2" onchange="updatePreviewList()" class="form-control">
            <option value="ol">Ordered List</option>
            <option value="ul">Unordered List</option>
            <option value="dl">Description List</option>
        </select>
    </div>
    <div class="form-group">
        <label for="L1">Heading & Position</label>
        <div class="input-group">
            <input type="text" name="headingOfTab" id="L1" placeholder="e.g., My favourite places" oninput="updatePreviewList()" class="form-control" required />
            <input type="number" name="containerPosList" id="containerPosList" class="form-control" placeholder="Container-Position" style="max-width: 5em" value="0">
        </div>
    </div>
    <div id="fieldsetsContainerList" class="biggerContainer">
        <div id="olCreaterForm" class="listCreators">
            <div class="form-field-sm">
                <label for="L3">Create Ordered list using Enter key</label>
                <textarea name="olListItems" rows="3" id="L3" oninput="updatePreviewList()"></textarea>
            </div>
            <div class="form-field-sm">
                <label for="L4">Type of Ordered List</label>
                <select name="typeOfOlList" id="L4" onchange="updatePreviewList()">
                    <option value="1">1</option>
                    <option value="A">A</option>
                    <option value="a">a</option>
                    <option value="I">I</option>
                    <option value="i">i</option>
                </select>
            </div>
        </div>
        <div id="ulCreaterForm" class="listCreators">
            <div class="form-field-sm">
                <label for="L5">Create Unordered list using Enter key</label>
                <textarea name="ulListItems" rows="3" id="L5" oninput="updatePreviewList()"></textarea>
            </div>
            <div class="form-field-sm">
                <label for="L6">Type of Unordered List</label>
                <select name="typeOfUlList" id="L6" onchange="updatePreviewList()">
                    <option value="disc">Disc</option>
                    <option value="circle">Circle</option>
                    <option value="square">Square</option>
                    <option value="none">None</option>
                </select>
            </div>
        </div>
        <div id="dlCreaterForm" class="listCreators">
            <h4>Create Description List</h4>
            <div class="form-field-sm">
                <label for="L7">Enter the terms using Enter (â†©) key</label>
                <textarea name="dlDterms" rows="3" id="L7" oninput="updatePreviewList()" ></textarea>
            </div>
        </div>
    </div>
    <div class="preview-container">
        <h3>List Preview</h3>
        <div id="listPreview" class="form-preview">
            <p>Your list preview will appear here</p>
        </div>
    </div>
    <div class="buttons-group">
        <button type="reset" onclick="confirm('Really wnat to reset')" onclick="resetForm('fieldsetsContainerList')">Reset</button>
        <button type="button" onclick="generateCode('listPreview', 'List', document.getElementById('containerPosList').value)">Generate list Code</button>
    </div>
</form>
<style>
    .listCreators{
        display: none;
    }   
</style>
<script>
    function updatePreviewList() {
    const listHeading = document.getElementById('L1').value;
    const typeOfList = document.getElementById('L2').value;
    const listPreviewCon = document.getElementById('listPreview');
    const listCreatorsForms = document.getElementsByClassName('listCreaters');

    // Hide all creator forms first
    for (let i = 0; i < listCreatorsForms.length; i++) {
        listCreatorsForms[i].style.display = 'none';
    }

    let listHtml = `<h2 class="text-primary mb-4">${listHeading}</h2>\n`;

    if (typeOfList === 'ol') listHtml += createOl();
    else if (typeOfList === 'ul') listHtml += createUl();
    else if (typeOfList === 'dl') listHtml += createDl();

    listPreviewCon.innerHTML = listHtml;
    }

    function createOl() {
        const olCreater = document.getElementById('olCreaterForm');
        olCreater.style.display = 'block';

        const listItems = document.getElementById('L3').value.trim().split("\n");
        const typeOfOl = document.getElementById('L4').value;

        // ðŸŸ¢ Bootstrap-enhanced ordered list
        let olList = `<ol class="list-group list-group-numbered border rounded shadow-sm p-3 bg-light" type="${typeOfOl}">\n`;

        for (let i = 0; i < listItems.length; i++) {
            olList += `\t<li class="list-group-item d-flex gap-2 lh-sm">\n\t\t<span>${listItems[i]}</span>\n\t</li>\n`;
        }

        olList += "</ol>";
        return olList;
    }

    function createUl() {
        const ulCreater = document.getElementById('ulCreaterForm');
        ulCreater.style.display = 'block';

        const listItems = document.getElementById('L5').value.trim().split("\n");
        const typeOfUl = document.getElementById('L6').value;

        // ðŸŸ¢ Bootstrap-enhanced unordered list
        let ulList = `<ul class="list-group border rounded shadow-sm p-3 bg-light" style="list-style-type:${typeOfUl};">\n`;

        for (let i = 0; i < listItems.length; i++) {
            ulList += `  <li class="list-group-item d-flex justify-content-start align-items-center">${listItems[i]}</li>\n`;
        }

        ulList += "</ul>";
        return ulList;
    }

    function createDl() {
        const dlCreater = document.getElementById('dlCreaterForm');
        dlCreater.style.display = 'block';

        const dterms = document.getElementById('L7').value.trim().split("\n");

        // ðŸŸ¢ Bootstrap-styled description list
        let dlList = `<dl class="row bg-light border rounded shadow-sm p-3">\n`;

        for (let i = 0; i < dterms.length; i++) {
            dlList += `
            <dt class="col-sm-4 fw-semibold text-primary">${dterms[i]}</dt>
            <dd class="col-sm-8 text-muted">Description of ${dterms[i]}</dd>\n`;
        }

        dlList += "</dl>";
        return dlList;
    }
</script>
