<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/>
<link rel="stylesheet" href="../../static/partials/header.css">
<link rel="stylesheet" href="../../static/root.css">
<link rel="stylesheet" href="../../static/index.css" />
<script>
	document.addEventListener("DOMContentLoaded", function () {
		const hamburger = document.querySelector(".hamburger");
		const navMenu = document.querySelector("nav ul");
		const details = document.querySelectorAll("details");

		// Toggle mobile menu
		hamburger.addEventListener("click", function (e) {
			e.stopPropagation();
			hamburger.classList.toggle("active");
			navMenu.classList.toggle("active");
			document.body.style.overflow = navMenu.classList.contains("active")
				? "hidden"
				: "";
		});

		// Handle details elements
		details.forEach((detail) => {
			detail.addEventListener("click", (e) => {
				// If in mobile view, prevent other details from closing
				if (window.innerWidth <= 768) {
					e.stopPropagation();
				} else {
					// On desktop, close other details when one is opened
					details.forEach((d) => {
						if (d !== detail && d.hasAttribute("open")) {
							d.removeAttribute("open");
						}
					});
				}
			});
		});

		// Close menu when clicking outside
		document.addEventListener("click", function (e) {
			if (!hamburger.contains(e.target) && !navMenu.contains(e.target)) {
				hamburger.classList.remove("active");
				navMenu.classList.remove("active");
				document.body.style.overflow = "";
			}
		});

		// Close menu when window is resized beyond mobile breakpoint
		window.addEventListener("resize", function () {
			if (window.innerWidth > 768) {
				hamburger.classList.remove("active");
				navMenu.classList.remove("active");
				document.body.style.overflow = "";
			}
		});
	});
</script>
<header id="header.html" contenteditable="{{ 'true' if all['body_content_editable'] else 'false' }}" >
	<div class="extraUp">
		<i class="fas fa-pen-fancy" style="margin: 0.5em 0; "></i>
	</div>
	<nav>
		<div class="nav-brand">
			<img
				src="../../static/logo/{{all['logo'][0]}}"
				alt="webpersona"
				id="Logo"
				contenteditable="False"
			/>
			<h1>WEBPERSONA</h1>
		</div>

		<button class="hamburger" type="button">
			<span></span>
			<span></span>
			<span></span>
		</button>

		<ul type="none">
			<li>
				<details>
					<summary>About</summary>
					<div></div>
				</details>
			</li>
			<li>
				<details>
					<summary>Products</summary>
					<div>hiii</div>
				</details>
			</li>
			<li>
				<details>
					<summary>New</summary>
					<div>hiii</div>
				</details>
			</li>
			{% if all['currentPage'] != 'home.html'%}
			<li contenteditable="false"><a href="">Home</a></li>
			{% else %} {% endif %}
			<button>Login</button>
			<button>Sign Up</button>
		</ul>
		<div id="buttons">
			<button>Login</button>
			<button>Sign Up</button>
		</div>
	</nav>
	<div class="extraDown">
		<i class="fas fa-pen-fancy" contenteditable="false" style="margin: 0.5em 0;"></i>
	</div>
</header>