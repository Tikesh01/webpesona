<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"/>
<link rel="stylesheet" href="../../static/partials/header.css" />
<link rel="stylesheet" href="../../static/root.css" />
<link rel="stylesheet" href="../../static/index.css" />
<script>
	document.addEventListener("DOMContentLoaded", function () {
		const hamburger = document.querySelector(".hamburger");
		const navMenu = document.querySelector("nav ul");
		const details = document.querySelectorAll("details");

		// Toggle mobile menu
		hamburger.addEventListener("click", function (e) {
			e.stopPropagation();
			hamburger.classList.toggle("active");
			navMenu.classList.toggle("active");
			document.body.style.overflow = navMenu.classList.contains("active")
				? "hidden"
				: "";
		});

		// Handle details elements
		details.forEach((detail) => {
			detail.addEventListener("click", (e) => {
				// If in mobile view, prevent other details from closing
				if (window.innerWidth <= 768) {
					e.stopPropagation();
				} else {
					// On desktop, close other details when one is opened
					details.forEach((d) => {
						if (d !== detail && d.hasAttribute("open")) {
							d.removeAttribute("open");
						}
					});
				}
			});
		});

		// Close menu when clicking outside
		document.addEventListener("click", function (e) {
			if (!hamburger.contains(e.target) && !navMenu.contains(e.target)) {
				hamburger.classList.remove("active");
				navMenu.classList.remove("active");
				document.body.style.overflow = "";
			}
		});

		// Close menu when window is resized beyond mobile breakpoint
		window.addEventListener("resize", function () {
			if (window.innerWidth > 768) {
				hamburger.classList.remove("active");
				navMenu.classList.remove("active");
				document.body.style.overflow = "";
			}
		});
	});
	
</script>
<script>
	function setHeaderHeight() {
		const header = document.querySelector('header');
		if (header) {
			document.documentElement.style.setProperty('--header-height', header.offsetHeight + 'px');
		}
	}
	window.addEventListener('DOMContentLoaded', setHeaderHeight);
	window.addEventListener('resize', setHeaderHeight);
</script>
<style>
	.non-vis{
		display: none;
	}	
</style>
<header id="header.html" contenteditable="{{ 'true' if all['body_content_editable'] and all['previewPage']=='header.html' else 'false' }}" ><!--start-->
	<div class="extraUp"></div>
	<nav>
		<div class="nav-brand">
			<!--NO--><img src="../../static/logo/{{all['logo'][0]}}" alt="webpersona" id="Logo" />
			<h1>WEBPERSONA</h1>
		</div>
		<button class="hamburger" type="button" contenteditable="False">
			<span></span>
			<span></span> 
			<span></span>
		</button>
		<ul type="none">
			{% for nav in all['navigation'] %}
				<li contenteditable="false" class="nav-item">
					<a href="{{ nav['value'] }}" class="nav-link">{{ nav['name'] }}</a>
				</li>
			{% endfor %}

			{% for detailPage in all['header_pages'] %}
				<li>
					<details>
						<summary>{{detailPage.removesuffix('.html')}}</summary>
						<div>
							<iframe src="{{detailPage}}" style="border-radius: 8px; border:none;" width="100%" height="100%"></iframe>
						</div>
					</details>
				</li>
			{% endfor%}
		

			<a href="{{url_for('login')}}"><button>Login</button></a>
			<a href="{{url_for('register')}}"><button>Sign Up</button></a>
		</ul>
		<div id="buttons">
			<a href="{{url_for('login')}}"><button>Login</button></a>
			<a href="{{url_for('register')}}"><button>Sign Up</button></a>
		</div>
	</nav>
	<div class="extraDown"></div>
</header><!--Close-->
